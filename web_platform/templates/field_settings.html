<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <title>欄位設定 - {{ template_name }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="container mx-auto p-6">
    <h1 class="text-2xl font-bold mb-6">欄位設定 - {{ template_name }}</h1>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="mb-4 p-4 bg-blue-100 text-blue-800 rounded">
        {% for message in messages %}
          <div>{{ message }}</div>
        {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% if placeholders %}
    <form method="post" class="mb-4 space-y-4">
        <div class="space-y-2">
        {% for placeholder in placeholders %}
            <label class="flex items-center space-x-2">
                <input type="checkbox" name="fields" value="{{ placeholder }}" class="w-4 h-4" {% if placeholder in selected_fields %}checked{% endif %}>
                <span>{{ placeholder }}</span>
            </label>
        {% endfor %}
        </div>
        <div class="flex space-x-2 mt-4">
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">儲存設定</button>
            <a href="{{ url_for('index') }}" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">回首頁</a>
        </div>
    </form>
    {% else %}
    <div class="mb-4 p-4 bg-yellow-100 text-yellow-800 rounded">
        此模板未偵測到任何佔位符，請確認模板內容是否包含 <code>{{ '{{欄位}}' }}</code> 格式的佔位符。
    </div>
    <a href="{{ url_for('index') }}" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">回首頁</a>
    {% endif %}
</body>
</html>
